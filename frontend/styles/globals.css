@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Enhanced CraftNexus Design System */
@import './design-systems/artisan-craft.css';
@import './design-systems/artisan-craft/accessibility.css';
@import './design-systems/artisan-craft/performance.css';
@import './design-systems/artisan-craft/utilities.css';
@import './design-systems/craftnexus-animations.css';
@import './craftnexus-tailwind-fix.css';

/* Google Fonts - Optimized Loading */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Source+Sans+Pro:wght@400;500;600&family=Crimson+Text:wght@400;600&display=swap');

@layer base {
  /* CraftNexus Design System - Enhanced Variables */
  :root {
    /* Enhanced Artisan Craft Color Palette */
    --craft-mahogany-50: #FDF8F6;
    --craft-mahogany-100: #F2E8E5;
    --craft-mahogany-200: #EADDD7;
    --craft-mahogany-300: #E0CFC5;
    --craft-mahogany-400: #D69E89;
    --craft-mahogany-500: #C1956C;
    --craft-mahogany-600: #8B4513;
    --craft-mahogany-700: #723A0F;
    --craft-mahogany-800: #5C2F0C;
    --craft-mahogany-900: #4A260A;
    
    /* Copper Family */
    --craft-copper-50: #FEF7F0;
    --craft-copper-100: #FEECDC;
    --craft-copper-200: #FCD9BD;
    --craft-copper-300: #F9C58D;
    --craft-copper-400: #F5A65B;
    --craft-copper-500: #D2691E;
    --craft-copper-600: #B8591A;
    --craft-copper-700: #9A4A16;
    --craft-copper-800: #7D3C12;
    --craft-copper-900: #66310F;
    
    /* Gold Family */
    --craft-gold-50: #FEFCE8;
    --craft-gold-100: #FEF9C3;
    --craft-gold-200: #FEF08A;
    --craft-gold-300: #FDE047;
    --craft-gold-400: #FACC15;
    --craft-gold-500: #DAA520;
    --craft-gold-600: #CA8A04;
    --craft-gold-700: #A16207;
    --craft-gold-800: #854D0E;
    --craft-gold-900: #713F12;
    
    /* Accent Colors */
    --craft-emerald: #10B981;
    --craft-sapphire: #3B82F6;
    --craft-amethyst: #8B5CF6;
    
    /* Semantic Colors */
    --craft-success: #059669;
    --craft-warning: #D97706;
    --craft-error: #DC2626;
    --craft-info: #0284C7;
    
    /* Legacy Variables for Compatibility */
    --ac-primary: var(--craft-mahogany-600);
    --ac-secondary: var(--craft-copper-500);
    --ac-accent: var(--craft-gold-500);
    --ac-success: var(--craft-success);
    --ac-warning: var(--craft-warning);
    --ac-background: #FFF8DC;
    --ac-surface: #F5F5DC;
    
    /* Text Colors */
    --ac-text-primary: #3E2723;
    --ac-text-secondary: #5D4037;
    --ac-text-tertiary: #8D6E63;
    --ac-text-inverse: #FFF8DC;
    --ac-text-accent: #8B4513;
    --ac-text-muted: #A0927A;
    
    /* Enhanced Typography System */
    --craft-font-display: 'Playfair Display', Georgia, serif;
    --craft-font-body: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --craft-font-accent: 'Crimson Text', Georgia, serif;
    --craft-font-mono: 'JetBrains Mono', 'Fira Code', Monaco, Consolas, monospace;
    
    /* Responsive Typography Scale */
    --craft-text-xs: clamp(0.75rem, 1.5vw, 0.875rem);
    --craft-text-sm: clamp(0.875rem, 2vw, 1rem);
    --craft-text-base: clamp(1rem, 2.5vw, 1.125rem);
    --craft-text-lg: clamp(1.125rem, 3vw, 1.375rem);
    --craft-text-xl: clamp(1.25rem, 3.5vw, 1.75rem);
    --craft-text-2xl: clamp(1.5rem, 4vw, 2.25rem);
    --craft-text-3xl: clamp(1.875rem, 5vw, 3rem);
    --craft-text-4xl: clamp(2.25rem, 6vw, 4rem);
    --craft-text-5xl: clamp(3rem, 7vw, 5rem);
    --craft-text-6xl: clamp(3.75rem, 8vw, 6rem);
    --craft-text-hero: clamp(4rem, 10vw, 8rem);
    
    /* Legacy Typography */
    --ac-font-display: var(--craft-font-display);
    --ac-font-body: var(--craft-font-body);
    --ac-font-accent: var(--craft-font-accent);
    
    /* Enhanced Spacing System (Fibonacci-inspired) */
    --craft-space-px: 1px;
    --craft-space-0: 0;
    --craft-space-0-5: 0.125rem;  /* 2px */
    --craft-space-1: 0.3125rem;   /* 5px */
    --craft-space-1-5: 0.46875rem; /* 7.5px */
    --craft-space-2: 0.625rem;    /* 10px */
    --craft-space-2-5: 0.78125rem; /* 12.5px */
    --craft-space-3: 0.9375rem;   /* 15px */
    --craft-space-3-5: 1.09375rem; /* 17.5px */
    --craft-space-4: 1.5625rem;   /* 25px */
    --craft-space-5: 1.953125rem; /* 31.25px */
    --craft-space-6: 2.5rem;      /* 40px */
    --craft-space-7: 3.125rem;    /* 50px */
    --craft-space-8: 4.0625rem;   /* 65px */
    --craft-space-10: 6.5625rem;  /* 105px */
    --craft-space-12: 10.5625rem; /* 169px */
    --craft-space-16: 17.578125rem; /* 281px */
    --craft-space-20: 22.65625rem;  /* 362.5px */
    
    /* Legacy Spacing */
    --ac-space-1: var(--craft-space-1);
    --ac-space-2: var(--craft-space-2);
    --ac-space-3: var(--craft-space-3);
    --ac-space-4: var(--craft-space-4);
    --ac-space-6: var(--craft-space-6);
    --ac-space-8: var(--craft-space-8);
    
    /* Animation */
    --ac-duration-fast: 150ms;
    --ac-duration-gentle: 400ms;
    --ac-duration-normal: 600ms;
    --ac-duration-slow: 800ms;
    
    --ac-ease-organic: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ac-ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ac-ease-craft: cubic-bezier(0.4, 0.0, 0.2, 1);
    
    /* Enhanced Shadow System */
    --craft-shadow-subtle: 0 1px 3px rgba(139, 69, 19, 0.05);
    --craft-shadow-soft: 0 4px 12px rgba(139, 69, 19, 0.1), 0 2px 6px rgba(139, 69, 19, 0.08);
    --craft-shadow-medium: 0 8px 24px rgba(139, 69, 19, 0.15), 0 4px 12px rgba(139, 69, 19, 0.12);
    --craft-shadow-strong: 0 16px 48px rgba(139, 69, 19, 0.2), 0 8px 24px rgba(139, 69, 19, 0.15);
    --craft-shadow-dramatic: 0 24px 64px rgba(139, 69, 19, 0.25), 0 12px 32px rgba(139, 69, 19, 0.2);
    --craft-shadow-glow: 0 0 20px rgba(218, 165, 32, 0.3);
    --craft-shadow-inset: inset 0 2px 4px rgba(139, 69, 19, 0.1);
    
    /* Legacy Shadows */
    --ac-shadow-soft: var(--craft-shadow-soft);
    --ac-shadow-warm: var(--craft-shadow-medium);
    --ac-shadow-deep: var(--craft-shadow-strong);
    
    /* Enhanced Border Radius System */
    --craft-radius-none: 0;
    --craft-radius-sm: 0.25rem;
    --craft-radius-md: 0.5rem;
    --craft-radius-lg: 1rem;
    --craft-radius-xl: 1.5rem;
    --craft-radius-2xl: 2rem;
    --craft-radius-full: 9999px;
    
    /* Organic Radius Variations */
    --craft-radius-organic-gentle: 0.5rem 1rem 0.5rem 1rem;
    --craft-radius-organic-leaf: 1rem 0.5rem 1rem 0.5rem;
    --craft-radius-organic-craft: 0.8rem 1.2rem 0.6rem 1.4rem;
    --craft-radius-organic-wax: 50% 20% 50% 20%;
    --craft-radius-organic-blob: 60% 40% 30% 70% / 60% 30% 70% 40%;
    
    /* Legacy Radius */
    --ac-radius-sm: var(--craft-radius-sm);
    --ac-radius-md: var(--craft-radius-md);
    --ac-radius-lg: var(--craft-radius-lg);
    --ac-radius-organic-gentle: var(--craft-radius-organic-gentle);
    --ac-radius-organic-leaf: var(--craft-radius-organic-leaf);
    --ac-radius-organic-craft: var(--craft-radius-organic-craft);
  }

  /* Enhanced Dark Mode Support */
  .dark {
    /* Dark Background Colors */
    --craft-bg-primary: #0F0F0F;
    --craft-bg-secondary: #1A1A1A;
    --craft-bg-tertiary: #262626;
    --craft-surface-primary: #1F1F1F;
    --craft-surface-secondary: #2A2A2A;
    --craft-surface-elevated: #333333;
    
    /* Dark Text Colors */
    --craft-text-primary: #F5F5F5;
    --craft-text-secondary: #D4D4D4;
    --craft-text-tertiary: #A3A3A3;
    --craft-text-muted: #737373;
    --craft-text-inverse: #0F0F0F;
    
    /* Dark Accent Colors */
    --craft-accent-glow: rgba(218, 165, 32, 0.3);
    --craft-border-primary: rgba(255, 255, 255, 0.1);
    --craft-border-secondary: rgba(255, 255, 255, 0.05);
    
    /* Legacy Dark Mode */
    --ac-background: var(--craft-bg-primary);
    --ac-surface: var(--craft-surface-primary);
    --ac-text-primary: var(--craft-text-primary);
    --ac-text-secondary: var(--craft-text-secondary);
    --ac-text-tertiary: var(--craft-text-tertiary);
  }
}

@layer base {
  /* Global Artisan Craft Styles */
  * {
    @apply border-mahogany-200;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }
  
  body {
    font-family: var(--ac-font-body);
    background-color: #ffffff;
    /* Removed background-image to prevent texture overlay */
    color: var(--ac-text-primary);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Clear rendering - no transforms that could cause blur */
    margin: 0;
    padding: 0;
    position: relative;
    z-index: 1;
  }
  
  /* Default heading styles */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--ac-font-display);
    font-weight: 700;
    color: var(--ac-text-primary);
    line-height: 1.2;
    letter-spacing: -0.025em;
  }
  
  /* Default button styles */
  button {
    font-family: var(--ac-font-body);
    cursor: pointer;
    transition: all var(--ac-duration-gentle) var(--ac-ease-organic);
  }
  
  /* Default input styles */
  input, textarea, select {
    font-family: var(--ac-font-body);
    transition: all var(--ac-duration-gentle) var(--ac-ease-organic);
  }
  
  /* Enhanced Focus styles for accessibility */
  :focus-visible {
    outline: 3px solid var(--ac-accent);
    outline-offset: 2px;
    border-radius: var(--ac-radius-sm);
    box-shadow: 0 0 0 1px rgba(218, 165, 32, 0.3);
  }
  
  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    :root {
      --ac-text-primary: #000000;
      --ac-background: #ffffff;
      --ac-primary: #000000;
      --ac-secondary: #333333;
    }
  }
}

@layer components {
  /* Enhanced CraftNexus Component Styles */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 font-semibold text-base;
    @apply bg-gradient-to-r from-amber-600 to-orange-500 text-white;
    @apply border-none rounded-lg cursor-pointer;
    @apply transition-all duration-300 ease-in-out;
    @apply shadow-md hover:shadow-lg;
    @apply transform hover:-translate-y-0.5 active:translate-y-0;
    /* GPU acceleration for smooth animations */
    transform: translateZ(0);
    backface-visibility: hidden;
  }
  /* Performance and Animation Classes */
  .ac-animate-crisp,
  .craft-animate-crisp {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: transform;
  }
  
  .ac-text-optimized {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  .ac-hover-efficient {
    transition: all 0.3s ease;
  }
  
  .ac-grid-optimized {
    contain: layout style;
  }
  
  .ac-crisp {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  /* Enhanced Button Variants */
  .btn-magnetic {
    @apply btn;
    @apply hover:scale-105 hover:shadow-craft-glow;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
  
  .btn-float {
    @apply btn;
    @apply hover:-translate-y-2 hover:shadow-craft-strong;
  }
  
  .card {
    @apply bg-neutral-100;
    .bg-craft-texture {
      opacity: 0.1;
    }
    @apply border-2 border-mahogany-200 rounded-lg p-6;
    @apply shadow-craft-soft relative overflow-hidden;
    @apply transition-all duration-gentle ease-organic;
    @apply hover:-translate-y-1 hover:shadow-craft-warm hover:border-copper-300;
  }
  
  .input {
    @apply w-full px-4 py-3 font-body text-base;
    @apply bg-neutral-50 bg-paper-texture;
    @apply border-2 border-mahogany-300 rounded-md;
    @apply text-neutral-800 placeholder:text-neutral-500;
    @apply transition-all duration-gentle ease-organic;
    @apply focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20;
  }
}
